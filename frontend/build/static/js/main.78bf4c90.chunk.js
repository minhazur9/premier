(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),i=a(33),c=a.n(i),o=a(3),l=a(4),d=a(5),h=a(7),u=a(6);var m=function(e){return Object(s.jsx)("footer",{className:"z-depth-5 page-footer #03a9f4 light-blue",children:Object(s.jsx)("p",{className:"footer-text",children:"Powered by TMDB API"})})};var p=function(e){return Object(s.jsx)("nav",{children:Object(s.jsxs)("div",{className:"nav-wrapper #03a9f4 light-blue",children:[Object(s.jsx)("a",{href:"/",className:"brand-logo",children:"Premier"}),Object(s.jsxs)("ul",{className:"left hide-on-med-and-down",children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.c,{to:"/movies",className:"link movies-tab",children:"Movies"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.c,{to:"/shows",className:"link",children:"TV Shows"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.c,{exact:!0,to:"/profiles",className:"link",children:"Users"})})]}),Object(s.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:e.loggedIn?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.c,{to:"/profiles/".concat(e.userId-1),className:"link",children:"My Account"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"#",onClick:e.logOut,className:"link",children:"Logout"})})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.c,{to:"/signup",className:"link",children:"Signup"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.c,{to:"/login",className:"link",children:"Login"})})]})})]})})},j=a(8),g=a(2),b=a.n(g),v=(a(61),a(15)),f=a.n(v),O=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movies:[{backdrop_path:""},{backdrop_path:""},{backdrop_path:""},{backdrop_path:""}],shows:[{backdrop_path:""},{backdrop_path:""},{backdrop_path:""},{backdrop_path:""}]},e.initSlider=function(){document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".slider");f.a.Slider.init(e,{})}))},e.getRandomShows=function(){var t=Math.floor(500*Math.random()+1);b.a.get("https://api.themoviedb.org/3/tv/popular?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=").concat(t)).then((function(t){console.log(t.data.results),e.setState({shows:t.data.results})}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.initSlider();var t=Math.floor(70*Math.random()+1);b.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=").concat(t)).then((function(t){e.setState({movies:t.data.results})})).then(this.getRandomShows())}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"slider",children:Object(s.jsxs)("ul",{className:"slides",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)(o.b,{to:"/movies/".concat(this.state.movies[0].id),children:Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(this.state.movies[0].backdrop_path),alt:"pic1"})}),Object(s.jsx)("div",{className:"caption center-align",children:Object(s.jsx)("h3",{className:"caption-title",children:this.state.movies[0].title})})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(o.b,{to:"/movies/".concat(this.state.shows[0].id),children:Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(this.state.shows[0].backdrop_path),alt:"pic2"})}),Object(s.jsx)("div",{className:"caption left-align",children:Object(s.jsx)("h3",{className:"caption-title",children:this.state.shows[0].name})})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(o.b,{to:"/movies/".concat(this.state.movies[1].id),children:Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(this.state.movies[1].backdrop_path),alt:"pic3"})}),Object(s.jsx)("div",{className:"caption right-align",children:Object(s.jsx)("h3",{className:"caption-title",children:this.state.movies[1].title})})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(o.b,{to:"/movies/".concat(this.state.shows[1].id),children:Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(this.state.shows[1].backdrop_path),alt:"pic4"})}),Object(s.jsx)("div",{className:"caption center-align",children:Object(s.jsx)("h3",{className:"caption-title",children:this.state.shows[1].name})})]})]})})})}}]),a}(r.a.Component),x=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={popularMovies:[]},e.renderPopularMovies=function(){return e.state.popularMovies.map((function(e){return Object(s.jsx)(o.b,{to:"/movies/".concat(e.id),className:"popular-link",children:Object(s.jsx)("li",{className:"popular-item",children:e.title})})}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){e.setState({popularMovies:t.data.results})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"home-page",children:[Object(s.jsx)("div",{className:"featured",children:Object(s.jsx)(O,{})}),Object(s.jsx)("h3",{className:"popular-movies-header",children:"Popular Movies"}),Object(s.jsx)("div",{className:"popular-movies",children:Object(s.jsx)("ul",{children:this.renderPopularMovies()})})]})}}]),a}(r.a.Component),N=(a(32),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e={onOpenStart:function(){},onOpenEnd:function(){},onCloseStart:function(){},onCloseEnd:function(){var e=document.querySelector("iframe");if(e){var t=e.getAttribute("src");document.querySelector("iframe").setAttribute("src",t)}},inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"};f.a.Modal.init(this.Modal,e)}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("a",{className:"waves-effect waves-light btn modal-trigger","data-target":"modal1",children:"Watch Trailer"}),Object(s.jsxs)("div",{ref:function(t){e.Modal=t},id:"modal1",className:"modal",children:[Object(s.jsx)("div",{className:"modal-content",children:""!==this.props.trailerLink?Object(s.jsx)("iframe",{width:"945",height:"506",src:this.props.trailerLink,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):Object(s.jsx)("h1",{className:"no-trailer",children:"No Trailer Available"})}),Object(s.jsx)("div",{className:"modal-footer"})]})]})}}]),a}(r.a.Component)),y=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={content:"",score:10},e.thumb=document.querySelector("input[type=range]+.thumb .value"),e.handleChange=function(t){e.setState({content:t.target.value})},e.setScore=function(t){e.setState({score:document.querySelector("#rating-slider").value})},e.handleSubmit=function(t){var a={method:"post",url:e.props.showId?"http://localhost:8000/premier/shows/reviews/add":"http://localhost:8000/premier/movies/reviews/add",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{show_id:e.props.showId,title:e.props.title,movie_id:e.props.movieId,content:e.state.content,score:e.state.score,user:e.props.user.id,username:e.props.user.username}};b()(a)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){f.a.Modal.init(this.Modal,{onOpenStart:function(){},onOpenEnd:function(){},onCloseStart:function(){},onCloseEnd:function(){},inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("a",{className:"waves-effect waves-light btn modal-trigger add-review","data-target":"modal2",children:"Add Review"}),Object(s.jsxs)("div",{ref:function(t){e.Modal=t},id:"modal2",className:"modal",children:[Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsx)("h3",{className:"score-header",children:"Rate it!"}),Object(s.jsxs)("form",{action:"",onSubmit:this.handleSubmit,children:[Object(s.jsx)("p",{class:"range-field",children:Object(s.jsx)("input",{onChange:this.setScore,type:"range",id:"rating-slider",min:"1",max:"10"})}),Object(s.jsx)("h4",{className:"score-header",children:"Review"}),Object(s.jsx)("textarea",{onChange:this.handleChange,name:"review-content",id:"review-content",cols:"20",rows:"30"}),Object(s.jsx)("button",{className:"waves-effect waves-light btn review-submit",children:"Submit"})]}),Object(s.jsx)("button",{className:"modal-action modal-close waves-effect waves-light btn review-cancel",children:"Cancel"})]}),Object(s.jsx)("div",{className:"modal-footer"})]})]})}}]),a}(r.a.Component),w=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e.setUserAverage=function(){var t=0,a="---",s=e.state.reviews,n=e.state.reviews.length;if(n>1){for(var r=0;r<n;r++)t+=s[r].score;a=(t/n).toFixed(1)}e.props.getUserScore(a)},e.renderReviews=function(){return e.state.reviews.map((function(e){return Object(s.jsxs)("li",{className:"review-text",children:[Object(s.jsx)(o.b,{exact:!0,to:"/profiles/".concat(e.user-1),children:e.username}),Object(s.jsx)("br",{}),e.content,Object(s.jsx)("br",{}),e.score,"/10"]})}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showId,a="",s="";t?(a="shows",s=t):(a="movies",s=this.props.movieId),b.a.get("http://localhost:8000/premier/".concat(a,"/").concat(s,"/reviews")).then((function(t){return e.setState({reviews:t.data})})).then((function(){return e.setUserAverage()}))}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"review-section",children:[Object(s.jsx)("h3",{className:"review-header",children:"User Reviews"}),Object(s.jsxs)("ul",{className:"review-grid",children:[this.props.loggedIn&&Object(s.jsx)(y,{title:this.props.title,user:this.props.user,showId:this.props.showId,movieId:this.props.movieId}),this.renderReviews()]})]})})}}]),a}(r.a.Component),k=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movie:{},userAverage:"---",companyList:[],loading:!0,clicked:!1,genreList:[],trailerLink:""},e.handleAddToList=function(t){t.currentTarget.classList.toggle("added"),t.preventDefault();var a={method:"post",url:"http://localhost:8000/premier/movies/add",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{movie_id:e.state.movie.id,title:e.state.movie.title,user:e.props.user.id}};b()(a),e.setState({clicked:!0})},e.getUserScore=function(t){e.setState({userAverage:t})},e}return Object(d.a)(a,[{key:"renderLoadingIcon",value:function(){return Object(s.jsxs)("div",{className:"lds-facebook details-loading-container",children:[Object(s.jsx)("div",{className:"details-loading"}),Object(s.jsx)("div",{className:"details-loading"}),Object(s.jsx)("div",{className:"details-loading"})]})}},{key:"renderProductionCompanies",value:function(){return this.state.companyList.slice(0,3).map((function(e){return Object(s.jsx)("li",{className:"company-name",children:e.name})}))}},{key:"renderCriticRating",value:function(e){var t="";return t=Number(e)?Number(e)>=8?"good":Number(e)>=5?"meh":"bad":"",Object(s.jsxs)("div",{className:"score-container ".concat(t),children:[Number(e)>=8&&console.log(this.className),1===e.length?e+".0":e,console.log(e.length)]})}},{key:"renderUserRating",value:function(e){var t="";return Number(e)?t=Number(e)>=8?"good":Number(e)>=5?"meh":"bad":(e="---",t=""),Object(s.jsxs)("div",{className:"score-container user-score ".concat(t),children:[1===e.length?e+".0":e,console.log(e.length)]})}},{key:"renderDate",value:function(){var e=new Date(this.state.movie.release_date);return Object(s.jsxs)("p",{className:"movie-release",children:["Release: ","".concat(["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]," ").concat(e.getDate()," ").concat(e.getFullYear())]})}},{key:"renderGenres",value:function(){return this.state.genreList.slice(0,3).map((function(e){return Object(s.jsx)("li",{className:"genre-name",children:e.name})}))}},{key:"renderTrailer",value:function(){var e=this,t=this.props.movieId;b.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US")).then((function(t){if(void 0!==t.data.results&&t.data.results.length>0){var a=t.data.results[0].key;e.setState({trailerLink:"https://www.youtube.com/embed/"+a})}}))}},{key:"renderMovieDetails",value:function(){var e=Number(this.state.movie.vote_average).toString(),t=Number(this.state.userAverage).toString();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/original").concat(this.state.movie.poster_path,")")},className:"movie-poster"}),Object(s.jsxs)("div",{className:"details-text",children:[this.props.loggedIn&&!this.state.clicked&&Object(s.jsx)("a",{onClick:this.handleAddToList,className:"add-to-rec waves-effect waves-light btn",children:"Add to List"})||this.props.loggedIn&&this.state.clicked&&Object(s.jsx)("a",{onClick:function(e){return e.preventDefault()},className:"add-to-rec waves-effect waves-light btn added",children:"Added"}),Object(s.jsx)("h1",{className:"title",children:this.state.movie.title}),Object(s.jsx)("p",{className:"tagline",children:this.state.movie.tagline}),Object(s.jsx)("p",{className:"critic-score-header",children:"Average Critic Score"}),this.renderCriticRating(e),Object(s.jsx)("p",{className:"user-score-header",children:"Average User Score"}),this.renderUserRating(t),Object(s.jsxs)("p",{className:"run-time",children:["Runtime: ",this.state.movie.runtime," Minutes"]}),Object(s.jsx)("ul",{className:"production",children:this.renderProductionCompanies()}),Object(s.jsxs)("div",{className:"column2",children:[this.renderDate(),Object(s.jsx)("ul",{className:"genres",children:this.renderGenres()})]}),Object(s.jsxs)("div",{className:"column3",children:[Object(s.jsx)("p",{className:"overview-header",children:"Overview"}),Object(s.jsx)("p",{className:"overview",children:this.state.movie.overview})]}),Object(s.jsx)("div",{className:"column4",children:Object(s.jsx)(N,{trailerLink:this.state.trailerLink})})]})]})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.movieId;b.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US")).then((function(t){e.setState({movie:t.data,companyList:t.data.production_companies,genreList:t.data.genres,loading:!1})})),this.renderTrailer();for(var a=0;a<this.props.movies.length;a++)if(this.props.movies[a].movie_id==this.props.movieId)return void this.setState({clicked:!0})}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"details-background",children:this.state.loading?this.renderLoadingIcon():this.renderMovieDetails()}),Object(s.jsx)(w,{getUserScore:this.getUserScore,loggedIn:this.props.loggedIn,user:this.props.user,title:this.state.movie.title,movieId:this.props.movieId})]})}}]),a}(r.a.Component);var S=function(e){return Object(s.jsx)(o.b,{className:"movie-link",to:"/movies/".concat(e.id),children:Object(s.jsx)("div",{onMouseEnter:function(e){var t=e.currentTarget.childNodes[0].childNodes[0].childNodes[0];e.currentTarget.childNodes[0].childNodes[0].style.animationName="fadeToBlack",e.currentTarget.style.animationName="select",t.style.animationName="slideUp"},onMouseLeave:function(e){var t=e.currentTarget.childNodes[0].childNodes[0].childNodes[0];e.currentTarget.childNodes[0].childNodes[0].style.animationName="fadeFromBlack",e.currentTarget.style.animationName="deselect",t.style.animationName="slideDown"},className:"movie-card",children:Object(s.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"card-poster",children:Object(s.jsx)("div",{className:"card-overlay",children:Object(s.jsxs)("div",{className:"movie-card-info",children:[Object(s.jsx)("p",{className:"card-title",children:e.title}),e.voteAverage>=8?Object(s.jsx)("p",{className:"card-critic-average good-card-score",children:e.voteAverage}):e.voteAverage>=5?Object(s.jsx)("p",{className:"card-critic-average meh-card-score",children:e.voteAverage}):Object(s.jsx)("p",{className:"card-critic-average bad-card-score",children:e.voteAverage})]})})})})})},I=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],loading:!0,page:1,catagory:"now_playing",header:"Now Playing"},e.handlePrevMoviePage=function(){var t=e.state.page-1,a=e.state.catagory;e.setState({page:t}),b.a.get("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=").concat(t)).then((function(t){return e.setState({movies:t.data.results,loading:!1})}))},e.handleNextMoviePage=function(){var t=e.state.page+1,a=e.state.catagory;e.setState({page:t}),b.a.get("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=").concat(t)).then((function(t){return e.setState({movies:t.data.results,loading:!1})}))},e.renderPopular=function(t){b.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"popular",movies:t.data.results,header:"Popular"})}))},e.renderTopRated=function(t){b.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"top_rated",movies:t.data.results,header:"Top Rated"})}))},e.renderNowPlaying=function(t){b.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"now_playing",movies:t.data.results,header:"Now Playing"})}))},e.renderUpcoming=function(t){b.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"upcoming",movies:t.data.results,header:"Upcoming"})}))},e}return Object(d.a)(a,[{key:"renderLoadingIcon",value:function(){return Object(s.jsxs)("div",{className:"lds-facebook",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}},{key:"renderMovieCards",value:function(){return this.state.movies.map((function(e){return Object(s.jsx)(S,{id:e.id,voteAverage:e.vote_average,title:e.title,image:"".concat("https://image.tmdb.org/t/p/original").concat(e.poster_path)},e.id)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.catagory;console.log(t),b.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({movies:t.data.results,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:this.state.header}),Object(s.jsx)("aside",{className:"nav-wrapper #03a9f4 light-blue movie-nav ",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderNowPlaying,className:"catagory-link",children:"Now Playing"},1)}),Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderPopular,className:"catagory-link",children:"Popular"},2)}),Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderTopRated,className:"catagory-link",children:"Top Rated"},3)}),Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderUpcoming,className:"catagory-link",children:"Upcoming"},4)})]})}),Object(s.jsxs)("ul",{className:"movie-list",children:[this.state.loading?this.renderLoadingIcon():this.renderMovieCards(),this.state.page<70&&Object(s.jsx)(o.b,{to:"#",onClick:this.handleNextMoviePage,children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-right fa-4x"})},5),this.state.page>1&&Object(s.jsx)(o.b,{to:"#",onClick:this.handlePrevMoviePage,children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-left fa-4x"})},6)]})]})}}]),a}(r.a.Component),_=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={show:{},userAverage:"---",loading:!0,clicked:!1,genreList:[],trailerLink:""},e.handleAddToList=function(t){t.currentTarget.classList.toggle("added"),t.preventDefault();var a={method:"post",url:"http://localhost:8000/premier/shows/add",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{show_id:e.state.show.id,title:e.state.show.name,user:e.props.user.id}};b()(a),e.setState({clicked:!0})},e.getUserScore=function(t){e.setState({userAverage:t})},e}return Object(d.a)(a,[{key:"renderLoadingIcon",value:function(){return Object(s.jsxs)("div",{className:"lds-facebook details-loading-container",children:[Object(s.jsx)("div",{className:"details-loading"}),Object(s.jsx)("div",{className:"details-loading"}),Object(s.jsx)("div",{className:"details-loading"})]})}},{key:"renderCriticRating",value:function(e){var t="";return t=Number(e)?Number(e)>=8?"good":Number(e)>=5?"meh":"bad":"",Object(s.jsx)("div",{className:"score-container ".concat(t),children:1===e.length?e+".0":e})}},{key:"renderTrailer",value:function(){var e=this,t=this.props.showId;b.a.get("https://api.themoviedb.org/3/tv/".concat(t,"/videos?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US")).then((function(t){if(console.log(t.data),void 0!==t.data.results&&t.data.results.length>0){var a=t.data.results[0].key;e.setState({trailerLink:"https://www.youtube.com/embed/"+a})}}))}},{key:"renderUserRating",value:function(e){var t="";return Number(e)?t=Number(e)>=8?"good":Number(e)>=5?"meh":"bad":(e="---",t=""),Object(s.jsxs)("div",{className:"score-container user-score ".concat(t),children:[Number(e)>=8&&console.log(this.className),1===e.length?e+".0":e]})}},{key:"renderDates",value:function(){var e=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],t=new Date(this.state.show.first_air_date),a=new Date(this.state.show.last_air_date);return Object(s.jsx)("p",{className:"dates",children:"".concat(e[t.getMonth()]," ").concat(t.getDate()," ").concat(t.getFullYear()," -\n                                         ").concat(e[a.getMonth()]," ").concat(a.getDate()," ").concat(a.getFullYear())})}},{key:"renderShowDetails",value:function(){var e=Number(this.state.userAverage).toString(),t=Number(this.state.show.vote_average).toString();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/original").concat(this.state.show.poster_path,")")},className:"movie-poster"}),Object(s.jsxs)("div",{className:"details-text",children:[Object(s.jsx)("h1",{children:this.props.loggedIn}),this.props.loggedIn&&!this.state.clicked&&Object(s.jsx)("a",{onClick:this.handleAddToList,className:"add-to-rec waves-effect waves-light btn",children:"Add to List"})||this.props.loggedIn&&this.state.clicked&&Object(s.jsx)("a",{onClick:function(e){return e.preventDefault()},className:"add-to-rec waves-effect waves-light btn added",children:"Added"}),Object(s.jsx)("h1",{className:"title",children:this.state.show.name}),Object(s.jsx)("p",{className:"tagline",children:this.state.show.tagline}),Object(s.jsx)("p",{className:"critic-score-header",children:"Average Critic Score"}),this.renderCriticRating(t),Object(s.jsx)("p",{className:"user-score-header",children:"Average User Score"}),this.renderUserRating(e),Object(s.jsxs)("p",{className:"episode-count",children:[this.state.show.number_of_episodes," Episodes"]}),Object(s.jsxs)("p",{className:"season-count",children:[this.state.show.number_of_seasons," Seasons"]}),Object(s.jsxs)("div",{className:"column2",children:[this.renderDates(),Object(s.jsx)("ul",{className:"genres",children:this.renderGenres()})]}),Object(s.jsxs)("div",{className:"column3",children:[Object(s.jsx)("p",{className:"overview-header",children:"Overview"}),Object(s.jsx)("p",{className:"overview",children:this.state.show.overview})]}),Object(s.jsx)("div",{className:"column4",children:Object(s.jsx)(N,{trailerLink:this.state.trailerLink})})]})]})}},{key:"renderGenres",value:function(){return this.state.genreList.slice(0,3).map((function(e){return Object(s.jsx)("li",{className:"genre-name",children:e.name})}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.showId;b.a.get("https://api.themoviedb.org/3/tv/".concat(t,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US")).then((function(t){console.log(t.data),e.setState({show:t.data,loading:!1,genreList:t.data.genres,showId:e.props.showId})}));for(var a=0;a<this.props.shows.length;a++)if(this.props.shows[a].show_id==this.props.showId)return void this.setState({clicked:!0});this.renderTrailer()}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"details-background",children:this.state.loading?this.renderLoadingIcon():this.renderShowDetails()}),Object(s.jsx)(w,{getUserScore:this.getUserScore,loggedIn:this.props.loggedIn,title:this.state.show.name,user:this.props.user,showId:this.props.showId})]})}}]),a}(r.a.Component);var C=function(e){return Object(s.jsx)(o.b,{className:"movie-link",to:"/shows/".concat(e.id),children:Object(s.jsx)("div",{onMouseEnter:function(e){var t=e.currentTarget.childNodes[0].childNodes[0].childNodes[0];e.currentTarget.childNodes[0].childNodes[0].style.animationName="fadeToBlack",e.currentTarget.style.animationName="select",t.style.animationName="slideUp"},onMouseLeave:function(e){var t=e.currentTarget.childNodes[0].childNodes[0].childNodes[0];e.currentTarget.childNodes[0].childNodes[0].style.animationName="fadeFromBlack",e.currentTarget.style.animationName="deselect",t.style.animationName="slideDown"},className:"movie-card",children:Object(s.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"card-poster",children:Object(s.jsx)("div",{className:"card-overlay",children:Object(s.jsxs)("div",{className:"movie-card-info",children:[Object(s.jsx)("p",{className:"card-title",children:e.title}),e.voteAverage>=8?Object(s.jsx)("p",{className:"card-critic-average good-card-score",children:e.voteAverage}):e.voteAverage>=5?Object(s.jsx)("p",{className:"card-critic-average meh-card-score",children:e.voteAverage}):Object(s.jsx)("p",{className:"card-critic-average bad-card-score",children:e.voteAverage})]})})})})})},A=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={shows:[],loading:!0,page:1,catagory:"airing_today",header:"Now Playing"},e.handlePrevShowPage=function(){var t=e.state.page-1,a=e.state.catagory;e.setState({page:t}),b.a.get("https://api.themoviedb.org/3/tv/".concat(a,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=").concat(t)).then((function(t){return e.setState({shows:t.data.results,loading:!1})}))},e.handleNextShowPage=function(){var t=e.state.page+1,a=e.state.catagory;e.setState({page:t}),b.a.get("https://api.themoviedb.org/3/tv/".concat(a,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=").concat(t)).then((function(t){return e.setState({shows:t.data.results,loading:!1})}))},e.renderPopular=function(t){b.a.get("https://api.themoviedb.org/3/tv/popular?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"popular",shows:t.data.results,header:"Popular"})}))},e.renderNowPlaying=function(t){b.a.get("https://api.themoviedb.org/3/tv/top_rated?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"top_rated",shows:t.data.results,header:"Top Rated"})}))},e.renderToday=function(t){b.a.get("https://api.themoviedb.org/3/tv/airing_today?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"now_playing",shows:t.data.results,header:"Now Playing"})}))},e.renderUpcoming=function(t){b.a.get("https://api.themoviedb.org/3/tv/on_the_air?api_key=".concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){return e.setState({catagory:"on_the_air",shows:t.data.results,header:"Upcoming"})}))},e}return Object(d.a)(a,[{key:"renderLoadingIcon",value:function(){return Object(s.jsxs)("div",{className:"lds-facebook",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}},{key:"renderShowCards",value:function(){return this.state.shows.map((function(e){return Object(s.jsx)(C,{voteAverage:e.vote_average,id:e.id,title:e.name,image:"".concat("https://image.tmdb.org/t/p/original").concat(e.poster_path)},e.id)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this,t=this.state.catagory;b.a.get("https://api.themoviedb.org/3/tv/".concat(t,"?api_key=").concat("47b253083f612b83066bfaf81a01e411","&language=en-US&page=1")).then((function(t){e.setState({shows:t.data.results,loading:!1})}))}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:this.state.header}),Object(s.jsx)("aside",{className:"nav-wrapper #03a9f4 light-blue movie-nav ",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderToday,className:"catagory-link",children:"Now Playing"},1)}),Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderPopular,className:"catagory-link",children:"Popular"},2)}),Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderNowPlaying,className:"catagory-link",children:"Top Rated"},3)}),Object(s.jsx)("li",{className:"catagory-item",children:Object(s.jsx)(o.b,{to:"#",onClick:this.renderUpcoming,className:"catagory-link",children:"Upcoming"},4)})]})}),Object(s.jsxs)("ul",{className:"movie-list",children:[this.state.loading?this.renderLoadingIcon():this.renderShowCards(),this.state.page<500&&Object(s.jsx)(o.b,{to:"#",onClick:this.handleNextShowPage,children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-right fa-4x"})}),this.state.page>1&&Object(s.jsx)(o.b,{to:"#",onClick:this.handlePrevShowPage,children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-left fa-4x"})})]})]})}}]),a}(r.a.Component),M=a(17),U=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",completed:!1,invalid:!1},e.handleInputChange=function(t){"completed"===t.target.name?e.setState((function(e){return{completed:!e.completed}})):e.setState(Object(M.a)({},t.target.name,t.target.value))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"login-header",children:"Login"}),Object(s.jsxs)("form",{onSubmit:function(t){e.props.handleLogin(t,e.state),e.props.redirect()},className:"login-form",children:[Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.username,name:"username",className:"login-input"})]}),Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{type:"password",onChange:this.handleInputChange,value:this.state.password,name:"password",className:"login-input"})]}),Object(s.jsx)("input",{type:"submit",className:"myButton"})]})]})}}]),a}(r.a.Component),D=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",firstName:"",lastName:"",email:"",verify:"",completed:!1},e.handleInputChange=function(t){"completed"===t.target.name?e.setState((function(e){return{completed:!e.completed}})):e.setState(Object(M.a)({},t.target.name,t.target.value))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"signup-header",children:"Signup"}),Object(s.jsxs)("form",{onSubmit:function(t){e.props.handleSignup(t,e.state),e.state.password===e.state.verify&&e.props.redirect()},className:"signup-form",children:[Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(s.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.firstName,name:"firstName",className:"login-input"})]}),Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(s.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.lastName,name:"lastName",className:"login-input"})]}),Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Email"}),Object(s.jsx)("input",{type:"email",onChange:this.handleInputChange,value:this.state.email,name:"email",className:"login-input"})]}),Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.username,name:"username",className:"login-input"})]}),Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{type:"password",onChange:this.handleInputChange,value:this.state.password,name:"password",className:"login-input"})]}),Object(s.jsxs)("div",{className:"input-form",children:[Object(s.jsx)("label",{htmlFor:"verify",children:"Confirm Password"}),Object(s.jsx)("input",{type:"password",onChange:this.handleInputChange,value:this.state.verify,name:"verify",className:"login-input"})]}),Object(s.jsx)("input",{type:"submit",className:"myButton"})]})]})}}]),a}(r.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movies:[]},e.handleDelete=function(t){var a=Number(e.props.profileId)+1,s=t.currentTarget.parentNode.id,n={method:"get",url:"http://localhost:8000/premier/profiles/".concat(a,"/movies/").concat(s,"/delete"),headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}};b()(n),window.location.reload()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Number(this.props.profileId)+1;b.a.get("http://localhost:8000/premier/profiles/".concat(t,"/movies")).then((function(t){return e.setState({movies:t.data})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"renderMovies",value:function(){var e=this;return this.state.movies.map((function(t){return Object(s.jsxs)("li",{id:t.movie_id,className:"recs",children:[Object(s.jsx)(o.b,{className:"rec-link",to:"/movies/".concat(t.movie_id),children:Object(s.jsx)("p",{children:t.title})},t.movie_id),e.props.userId-1==e.props.profileId&&Object(s.jsx)("a",{onClick:e.handleDelete,className:"delete-from-rec waves-effect waves-light btn",children:"Delete"})]})}))}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"movie-recs",children:Object(s.jsx)("ul",{children:this.renderMovies()})})})}}]),a}(r.a.Component),T=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={shows:[]},e.handleDelete=function(t){var a=Number(e.props.profileId)+1,s=t.currentTarget.parentNode.id,n={method:"get",url:"http://localhost:8000/premier/profiles/".concat(a,"/shows/").concat(s,"/delete"),headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}};b()(n),window.location.reload()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Number(this.props.profileId)+1;b.a.get("http://localhost:8000/premier/profiles/".concat(t,"/shows")).then((function(t){return e.setState({shows:t.data})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"rendershows",value:function(){var e=this;return this.state.shows.map((function(t){return Object(s.jsxs)("li",{id:t.show_id,className:"recs",children:[Object(s.jsx)(o.b,{className:"rec-link",to:"/shows/".concat(t.show_id),children:Object(s.jsx)("p",{children:t.title})},t.show_id),e.props.userId-1==e.props.profileId&&Object(s.jsx)("a",{onClick:e.handleDelete,className:"delete-from-rec waves-effect waves-light btn",children:"Delete"})]})}))}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"movie-recs",children:Object(s.jsx)("ul",{children:this.rendershows()})})})}}]),a}(r.a.Component),P=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={reviews:[]},e.handleDelete=function(t){var a=Number(e.props.profileId)+1,s=t.currentTarget.parentNode.id;console.log(t.currentTarget.parentNode);var n={method:"get",url:"http://localhost:8000/premier/profiles/".concat(a,"/reviews/").concat(s,"/delete"),headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}};b()(n),window.location.reload()},e}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this,t=Number(this.props.profileId)+1;b.a.get("http://localhost:8000/premier/profiles/".concat(t,"/reviews")).then((function(t){return e.setState({reviews:t.data})}))}},{key:"renderReviews",value:function(){var e=this;return this.state.reviews.map((function(t){var a="",n="";return t.movie_id?(a=t.movie_id,n="movies"):(a=t.show_id,n="shows",console.log(a)),Object(s.jsxs)("li",{id:a,className:"recs",children:[Object(s.jsx)(o.b,{className:"rec-link",to:"/".concat(n,"/").concat(a),children:Object(s.jsxs)("p",{children:[t.title,Object(s.jsxs)("span",{className:"score-span",children:[t.score,"/10"]})]})},a),e.props.userId-1==e.props.profileId&&Object(s.jsx)("a",{onClick:e.handleDelete,className:"delete-from-rec waves-effect waves-light btn",children:"Delete"})]})}))}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"review-list",children:this.renderReviews()})})}}]),a}(r.a.Component),F=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={profile:{}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.profileId;b.a.get("http://localhost:8000/premier/profiles/".concat(t)).then((function(t){e.setState({profile:t.data[0]})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.userId;return Object(s.jsxs)("div",{className:"profile-details",children:[Object(s.jsxs)("h3",{className:"full-name",children:[this.state.profile.first_name," ",this.state.profile.last_name]}),this.state.profile.profile_pic&&Object(s.jsxs)("div",{className:"profile-pic",children:[" ",Object(s.jsx)("img",{className:"pic-src",src:"http://localhost:8000/".concat(this.state.profile.profile_pic),alt:"profile-pic"})]}),""==this.state.profile.profile_pic&&Object(s.jsxs)("div",{className:"profile-pic",children:[" ",Object(s.jsx)("img",{className:"pic-src",src:"http://localhost:8000/static/default-picture_0_0.png",alt:"profile-pic"})]}),Object(s.jsx)("h3",{className:"reviews-list-header",children:"My Reviews"}),Object(s.jsx)(P,{userId:e,profileId:this.props.profileId}),Object(s.jsx)("h3",{className:"movie-recs-header",children:"Movies"}),Object(s.jsx)(L,{userId:e,profileId:this.props.profileId}),Object(s.jsx)("h3",{className:"show-recs-header",children:"Shows"}),Object(s.jsx)(T,{userId:e,profileId:this.props.profileId})]})}}]),a}(r.a.Component),R=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={users:[]},e.renderProfiles=function(){return e.state.users.map((function(e){return Object(s.jsx)(o.b,{to:"/profiles/".concat(e.user-1),children:Object(s.jsx)("li",{className:"profile-item",children:e.username})})}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:8000/premier/profiles/").then((function(t){return e.setState({users:t.data})}))}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"profile-index-header",children:"Check out other lists!"}),this.renderProfiles()]})}}]),a}(r.a.Component),J=function(e){var t=Object(j.f)(),a=function(){t.push("/")},n=e.loggedIn,r=e.user,i=e.userId,c=e.showArray,o=e.movieArray;return Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/",component:x}),Object(s.jsx)(j.a,{path:"/movies/:movieId",render:function(e){return Object(s.jsx)(k,{movies:o,user:r,loggedIn:n,movieId:e.match.params.movieId})}}),Object(s.jsx)(j.a,{path:"/movies",component:I}),Object(s.jsx)(j.a,{path:"/shows/:showId",render:function(e){return Object(s.jsx)(_,{shows:c,user:r,loggedIn:n,showId:e.match.params.showId})}}),Object(s.jsx)(j.a,{path:"/shows",component:A}),Object(s.jsx)(j.a,{path:"/login",render:function(){return Object(s.jsx)(U,{handleLogin:e.handleLogin,redirect:a})}}),Object(s.jsx)(j.a,{path:"/signup",render:function(){return Object(s.jsx)(D,{handleSignup:e.handleSignup,redirect:a})}}),Object(s.jsx)(j.a,{path:"/profiles/:profileId",component:function(e){return Object(s.jsx)(F,{userId:i,loggedIn:n,profileId:e.match.params.profileId})}}),Object(s.jsx)(j.a,{path:"/profiles",component:R})]})},W=(a(62),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={loggedIn:!!localStorage.getItem("token"),username:"",user:{},userId:"",showArray:[],movieArray:[]},e.handleLogin=function(t,a){t.preventDefault(),b.a.post("http://localhost:8000/accounts/token/",{username:a.username,password:a.password}).then((function(t){localStorage.setItem("token",t.data.token),e.setState({loggedIn:!0,username:t.data.user.username,user:t.data.user,userId:t.data.user.id})})).catch((function(t){console.log("Invalid"),e.setState({error:!0})}))},e.handleSignup=function(t,a){t.preventDefault(),b.a.post("http://localhost:8000/premier/users/",{username:a.username,password:a.password,first_name:a.firstName,last_name:a.lastName,email:a.email}).then((function(t){localStorage.setItem("token",t.data.token);var a=t.data.id;e.setState({loggedIn:!0,username:t.data.username,user:t.data.user,userId:a})}))},e.handleLogout=function(){localStorage.removeItem("token"),e.setState({loggedIn:!1,username:"",user:{},userId:""})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedIn&&b.a.get("http://localhost:8000/premier/current_user/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){e.setState({username:t.data.username,user:t.data,userId:t.data.id}),b.a.get("http://localhost:8000/premier/profiles/".concat(e.state.userId,"/movies/")).then((function(t){return e.setState({movieArray:t.data})})),b.a.get("http://localhost:8000/premier/profiles/".concat(e.state.userId,"/shows/")).then((function(t){return e.setState({showArray:t.data})}))}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"app-container",children:[Object(s.jsx)(p,{userId:this.state.userId,logOut:this.handleLogout,loggedIn:this.state.loggedIn}),Object(s.jsx)("main",{children:Object(s.jsx)(J,{userId:this.state.userId,movieArray:this.state.movieArray,showArray:this.state.showArray,user:this.state.user,loggedIn:this.state.loggedIn,handleSignup:this.handleSignup,handleLogin:this.handleLogin})}),Object(s.jsx)(m,{})]})}}]),a}(r.a.Component)),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(o.a,{basename:"https://premier-min.herokuapp.com/",children:Object(s.jsx)(W,{})})}),document.getElementById("root")),B()}},[[63,1,2]]]);
//# sourceMappingURL=main.78bf4c90.chunk.js.map